(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{283:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,O:()=>l});var r=a(5155),s=a(2115),o=a(7565),n=a(9186);let i=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[a,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[g,m]=(0,s.useState)(!0),[u,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await o.N.auth.getSession();d(t),l(null!=(e=null==t?void 0:t.user)?e:null),m(!1)})();let{data:{subscription:e}}=o.N.auth.onAuthStateChange(async(e,t)=>{var a;d(t),l(null!=(a=null==t?void 0:t.user)?a:null),m(!1),"SIGNED_IN"===e&&(null==t?void 0:t.user)&&await h(t.user)});return()=>e.unsubscribe()},[]);let h=async e=>{try{let{data:t,error:a}=await o.N.from("users").select("id").eq("id",e.id).single();if(a&&"PGRST116"!==a.code)throw new n.a$("Failed to check existing user profile");if(t)return;let{error:r}=await o.N.from("users").insert([{id:e.id,email:e.email,daily_goal:8,focus_duration:25,short_break_duration:5,long_break_duration:15,long_break_interval:4,auto_start_breaks:!1,auto_start_sessions:!1,sound_enabled:!0,notifications_enabled:!0,theme:"dark"}]);if(r)throw new n.a$("Failed to create user profile")}catch(t){let e=(0,n.H4)(t);x(e.message),console.error("Error creating user profile:",e)}},y=async(e,t)=>{let{error:a}=await o.N.auth.signUp({email:e,password:t,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});return{error:a}},p=async(e,t)=>{let{error:a}=await o.N.auth.signInWithPassword({email:e,password:t});return{error:a}},b=async()=>{let{error:e}=await o.N.auth.signOut();return{error:e}},f=async e=>{let{error:t}=await o.N.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/reset-password")});return{error:t}};return(0,r.jsx)(i.Provider,{value:{user:a,session:c,loading:g,error:u,signUp:y,signIn:p,signOut:b,resetPassword:f,clearError:()=>x(null)},children:t})}function c(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4529:(e,t,a)=>{Promise.resolve().then(a.bind(a,7433))},7433:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eo});var r=a(5155),s=a(2115),o=a(6785),n=a(4395),i=a(2713),l=a(381),c=a(2098),d=a(3509),g=a(5273),m=a(2152),u=a(4835),x=a(646),h=a(1539),y=a(5690),p=a(2178),b=a(2431),f=a(8979),j=a(5133);function w(e){var t,a;let{timeLeft:s,isRunning:o,isPaused:n,isBreak:i,currentTask:l,taskCategory:c,todaySessions:d,dailyGoal:g,currentStreak:m,sessionCount:u,longBreakInterval:w,darkMode:v,categories:N,projects:k,selectedProjectId:S,onTaskChange:C,onCategoryChange:D,onProjectChange:A,onStart:_,onPause:T,onResume:P,onStop:E,onReset:I,getRandomBreakSuggestion:B,getCategoryIcon:M,formatTime:R}=e;return(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-8 transition-colors duration-300 ".concat(v?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("div",{className:"text-6xl font-mono mb-4 ".concat(v?"text-indigo-400":"text-indigo-600"),children:R(s)}),(0,r.jsx)("div",{className:"text-sm mb-2 ".concat(v?"text-gray-400":"text-gray-500"),children:i?"Break Time":"Focus Time"}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-sm ".concat(v?"text-gray-300":"text-gray-600"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(x.A,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[d,"/",g," today"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(h.A,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[m," day streak"]})]})]})]}),i?(0,r.jsxs)("div",{className:"mb-6 text-center",children:[(0,r.jsx)("div",{className:"text-lg font-medium mb-2 ".concat(v?"text-green-400":"text-green-600"),children:u%w==0&&u>0?"Long Break Time! \uD83C\uDF89":"Break Time! \uD83C\uDF31"}),(0,r.jsx)("p",{className:"text-sm mb-4 ".concat(v?"text-gray-300":"text-gray-600"),children:B()})]}):(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"rounded-xl p-6 mb-4 transition-all duration-300 ".concat(v?"bg-gray-700/50 border border-gray-600/50":"bg-indigo-50/50 border border-indigo-100"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(l.trim()?"bg-indigo-500":v?"bg-gray-500":"bg-gray-300")}),(0,r.jsx)("label",{className:"text-sm font-semibold tracking-wide uppercase ".concat(v?"text-gray-200":"text-gray-800"),children:"Focus Task"})]}),(0,r.jsx)("input",{type:"text",value:l,onChange:e=>C(e.target.value),placeholder:"What will you accomplish in this session?",className:"w-full px-5 py-4 border-0 rounded-xl text-lg font-medium placeholder:text-base placeholder:font-normal focus:ring-3 focus:ring-indigo-500/30 transition-all duration-300 shadow-sm ".concat(o?v?"bg-gray-800 text-gray-400 cursor-not-allowed shadow-inner":"bg-gray-100 text-gray-500 cursor-not-allowed shadow-inner":v?"bg-gray-800 text-white placeholder-gray-400 hover:bg-gray-750 shadow-lg focus:shadow-xl":"bg-white text-gray-900 placeholder-gray-400 hover:shadow-md focus:shadow-lg"),disabled:o})]}),k&&k.length>0&&(0,r.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-300 ".concat(v?"bg-gray-700/50 border border-gray-600/50":"bg-slate-50/50 border border-slate-100"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC1"}),(0,r.jsx)("label",{className:"text-sm font-semibold tracking-wide uppercase ".concat(v?"text-gray-200":"text-gray-800"),children:"Project"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:S||"",onChange:e=>null==A?void 0:A(e.target.value?parseInt(e.target.value):void 0),className:"w-full px-5 py-4 border-0 rounded-xl text-base font-medium focus:ring-3 focus:ring-indigo-500/30 transition-all duration-300 shadow-sm appearance-none cursor-pointer ".concat(o?v?"bg-gray-800 text-gray-400 cursor-not-allowed shadow-inner":"bg-gray-100 text-gray-500 cursor-not-allowed shadow-inner":v?"bg-gray-800 text-white hover:bg-gray-750 shadow-lg focus:shadow-xl":"bg-white text-gray-900 hover:shadow-md focus:shadow-lg"),disabled:o,children:[(0,r.jsx)("option",{value:"",children:"No project selected"}),k.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-5 pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 ".concat(v?"text-gray-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),S&&(0,r.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:null==(t=k.find(e=>e.id===S))?void 0:t.color}}),(0,r.jsxs)("span",{className:"text-sm ".concat(v?"text-gray-300":"text-gray-600"),children:["Working on: ",null==(a=k.find(e=>e.id===S))?void 0:a.name]})]})]}),(0,r.jsxs)("div",{className:"rounded-lg p-3 transition-all duration-300 ".concat(v?"bg-gray-700/30 border border-gray-600/30":"bg-slate-50/30 border border-slate-100"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("span",{className:"text-sm",children:M(c)}),(0,r.jsx)("label",{className:"text-xs font-medium uppercase tracking-wide ".concat(v?"text-gray-300":"text-gray-700"),children:"Category"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("select",{value:c,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 border-0 rounded-lg text-sm font-medium appearance-none cursor-pointer focus:ring-2 focus:ring-indigo-500/30 transition-all duration-300 shadow-sm pr-8 ".concat(o?v?"bg-gray-800 text-gray-400 cursor-not-allowed shadow-inner":"bg-gray-100 text-gray-500 cursor-not-allowed shadow-inner":v?"bg-gray-800 text-white hover:bg-gray-750 shadow-md focus:shadow-lg":"bg-white text-gray-900 hover:shadow-md focus:shadow-lg"),disabled:o,children:N.map(e=>(0,r.jsxs)("option",{value:e,className:v?"bg-gray-800 text-white":"bg-white text-gray-900",children:[M(e)," ",e.charAt(0).toUpperCase()+e.slice(1)]},e))}),(0,r.jsx)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none transition-colors duration-300 ".concat(o?v?"text-gray-500":"text-gray-400":v?"text-gray-300":"text-gray-600"),children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-3 mb-6",children:[o||n?n?(0,r.jsxs)("button",{onClick:P,className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[(0,r.jsx)(y.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Resume"})]}):(0,r.jsxs)("button",{onClick:T,className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:[(0,r.jsx)(p.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Pause"})]}):(0,r.jsxs)("button",{onClick:_,className:"flex items-center space-x-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,r.jsx)(y.A,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:["Start ",i?"Break":"Focus"]})]}),(o||n)&&(0,r.jsxs)("button",{onClick:E,className:"flex items-center space-x-2 bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:[(0,r.jsx)(b.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Stop"})]}),(0,r.jsxs)("button",{onClick:I,className:"flex items-center space-x-2 bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,r.jsx)(f.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Reset"})]})]}),(0,r.jsxs)("div",{className:"text-center text-xs ".concat(v?"text-gray-500":"text-gray-400"),children:[(0,r.jsx)(j.A,{className:"w-4 h-4 inline mr-1"}),"Shortcuts: Space (start/pause/resume), T (stop), R (reset), S (settings)"]})]})}var v=a(4616),N=a(4186),k=a(2525);function S(e){let{taskQueue:t,newQueueTask:a,taskCategory:s,taskPriority:o,darkMode:n,categories:i,priorities:l,onNewTaskChange:c,onCategoryChange:d,onPriorityChange:g,onAddToQueue:m,onRemoveFromQueue:u,onMoveToCurrentTask:x,getCategoryIcon:h,getPriorityColor:y}=e;return(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 transition-colors duration-300 ".concat(n?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 ".concat(n?"text-white":"text-gray-800"),children:"Task Queue"}),(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsx)("input",{type:"text",value:a,onChange:e=>c(e.target.value),placeholder:"Add task to queue...",className:"flex-1 px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ".concat(n?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"),onKeyPress:e=>"Enter"===e.key&&m()}),(0,r.jsxs)("button",{onClick:m,disabled:!a.trim(),className:"px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 ".concat(a.trim()?"bg-indigo-600 text-white hover:bg-indigo-700 active:bg-indigo-800 shadow-md hover:shadow-lg":"bg-gray-400 text-gray-200 cursor-not-allowed"),children:[(0,r.jsx)(v.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Add Task"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-1 ".concat(n?"text-gray-400":"text-gray-600"),children:"Category"}),(0,r.jsx)("select",{value:s,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-1 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-sm ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:i.map(e=>(0,r.jsxs)("option",{value:e,className:n?"bg-gray-700":"bg-white",children:[h(e)," ",e.charAt(0).toUpperCase()+e.slice(1)]},e))})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-1 ".concat(n?"text-gray-400":"text-gray-600"),children:"Priority"}),(0,r.jsx)("select",{value:o,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-1 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-sm ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:l.map(e=>(0,r.jsx)("option",{value:e,className:n?"bg-gray-700":"bg-white",children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})]}),(0,r.jsx)("div",{className:"space-y-2",children:0===t.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(N.A,{className:"w-12 h-12 mx-auto mb-4 ".concat(n?"text-gray-600":"text-gray-300")}),(0,r.jsx)("p",{className:n?"text-gray-400":"text-gray-500",children:"No tasks in queue"})]}):t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg transition-colors ".concat(n?"bg-gray-700":"bg-gray-50"),children:[(0,r.jsx)("div",{className:"flex-1 cursor-pointer",onClick:()=>x(e),children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-lg",children:h(e.category)}),(0,r.jsx)("span",{className:"".concat(n?"text-gray-300":"text-gray-700"," hover:text-indigo-600"),children:e.text}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(y(e.priority)),children:e.priority})]})}),(0,r.jsx)("button",{onClick:()=>u(e.id),className:"text-red-500 hover:text-red-700 p-1",children:(0,r.jsx)(k.A,{className:"w-4 h-4"})})]},e.id))})]})}var C=a(8186);function D(e){let{todaySessions:t,dailyGoal:a,totalFocusTime:s,currentStreak:n,completedSessions:i,darkMode:l,getCategoryIcon:c}=e,d=[{label:"Today",value:"".concat(t,"/").concat(a),icon:o.A,color:"indigo"},{label:"Total Time",value:"".concat(Math.floor(s/60),"h ").concat(s%60,"m"),icon:N.A,color:"green"},{label:"Streak",value:"".concat(n," days"),icon:h.A,color:"yellow"},{label:"Sessions",value:i.length,icon:x.A,color:"blue"}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:d.map((e,t)=>(0,r.jsx)("div",{className:"rounded-xl shadow-lg p-6 ".concat(l?"bg-gray-800 border border-gray-700":"bg-white"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm ".concat(l?"text-gray-400":"text-gray-500"),children:e.label}),(0,r.jsx)("p",{className:"text-2xl font-bold ".concat(l?"text-white":"text-gray-900"),children:e.value})]}),(0,r.jsx)(e.icon,{className:"w-8 h-8 text-".concat(e.color,"-500")})]})},t))}),(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 ".concat(l?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 ".concat(l?"text-white":"text-gray-900"),children:"Recent Sessions"}),(0,r.jsx)("div",{className:"space-y-2",children:0===i.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(C.A,{className:"w-12 h-12 mx-auto mb-4 ".concat(l?"text-gray-600":"text-gray-300")}),(0,r.jsx)("p",{className:l?"text-gray-400":"text-gray-500",children:"No completed sessions yet"})]}):i.slice(-10).reverse().map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded ".concat(l?"bg-gray-700":"bg-gray-50"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:"text-lg",children:c(e.category)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium ".concat(l?"text-white":"text-gray-900"),children:e.task}),(0,r.jsxs)("p",{className:"text-sm ".concat(l?"text-gray-400":"text-gray-500"),children:[e.duration," min • ",new Date(e.completedAt).toLocaleTimeString()]})]})]}),(0,r.jsx)(C.A,{className:"w-5 h-5 text-yellow-500"})]},t))})]})]})}var A=a(1788),_=a(9869);function T(e){let{settings:t,darkMode:a,ambientSounds:s,onSettingChange:o,onExportData:n,onImportData:i,onClearAllData:l}=e;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 ".concat(a?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 ".concat(a?"text-white":"text-gray-900"),children:"Timer Settings"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(a?"text-gray-300":"text-gray-700"),children:"Focus Duration (minutes)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"60",value:t.focusDuration,onChange:e=>o("focusDuration",Number(e.target.value)),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(a?"text-gray-300":"text-gray-700"),children:"Short Break (minutes)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"30",value:t.shortBreakDuration,onChange:e=>o("shortBreakDuration",Number(e.target.value)),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(a?"text-gray-300":"text-gray-700"),children:"Long Break (minutes)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"60",value:t.longBreakDuration,onChange:e=>o("longBreakDuration",Number(e.target.value)),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(a?"text-gray-300":"text-gray-700"),children:"Daily Goal (sessions)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"20",value:t.dailyGoal,onChange:e=>o("dailyGoal",Number(e.target.value)),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]})]}),(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 ".concat(a?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 ".concat(a?"text-white":"text-gray-900"),children:"Automation"}),(0,r.jsx)("div",{className:"space-y-4",children:[{key:"autoStartBreaks",label:"Auto-start breaks",desc:"Automatically start break timer when focus session ends"},{key:"autoStartSessions",label:"Auto-start sessions",desc:"Automatically start next focus session after break"},{key:"soundEnabled",label:"Sound notifications",desc:"Play sound when timer completes"}].map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium ".concat(a?"text-white":"text-gray-900"),children:e.label}),(0,r.jsx)("p",{className:"text-sm ".concat(a?"text-gray-400":"text-gray-500"),children:e.desc})]}),(0,r.jsx)("button",{onClick:()=>o(e.key,!t[e.key]),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(t[e.key]?"bg-indigo-600":"bg-gray-300"),children:(0,r.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(t[e.key]?"translate-x-6":"translate-x-1")})})]},s))})]}),(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 ".concat(a?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 ".concat(a?"text-white":"text-gray-900"),children:"Appearance & Audio"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium ".concat(a?"text-white":"text-gray-900"),children:"Dark Mode"}),(0,r.jsx)("p",{className:"text-sm ".concat(a?"text-gray-400":"text-gray-500"),children:"Switch between light and dark themes"})]}),(0,r.jsx)("button",{onClick:()=>o("darkMode",!a),className:"p-2 rounded-lg transition-colors ".concat(a?"bg-gray-700 text-yellow-400 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:a?(0,r.jsx)(c.A,{className:"w-5 h-5"}):(0,r.jsx)(d.A,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(a?"text-gray-300":"text-gray-700"),children:"Ambient Sound"}),(0,r.jsx)("select",{value:t.ambientSound,onChange:e=>o("ambientSound",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:s.map(e=>(0,r.jsx)("option",{value:e,className:a?"bg-gray-700":"bg-white",children:"none"===e?"\uD83D\uDD07 None":"\uD83C\uDFB5 ".concat(e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "))},e))})]})]})]}),(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 ".concat(a?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 ".concat(a?"text-white":"text-gray-900"),children:"Data Management"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsxs)("button",{onClick:n,className:"flex items-center justify-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 active:bg-green-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[(0,r.jsx)(A.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Export Data"})]}),(0,r.jsxs)("button",{onClick:()=>{var e;return null==(e=document.getElementById("import-file"))?void 0:e.click()},className:"flex items-center justify-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[(0,r.jsx)(_.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Import Data"})]}),(0,r.jsxs)("button",{onClick:l,className:"flex items-center justify-center space-x-2 bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 active:bg-red-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[(0,r.jsx)(k.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Clear All Data"})]}),(0,r.jsx)("input",{id:"import-file",type:"file",accept:".json",className:"hidden",onChange:i})]}),(0,r.jsx)("div",{className:"mt-4 p-3 rounded-lg ".concat(a?"bg-gray-700":"bg-gray-50"),children:(0,r.jsxs)("p",{className:"text-sm ".concat(a?"text-gray-300":"text-gray-600"),children:["\uD83D\uDCBE ",(0,r.jsx)("strong",{children:"Auto-Save:"})," All your data is automatically saved to your browser's local storage. Your progress, settings, and tasks will be preserved between sessions."]})})]}),(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 ".concat(a?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 ".concat(a?"text-white":"text-gray-900"),children:"Notifications"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm ".concat(a?"text-gray-300":"text-gray-700"),children:"Desktop Notifications"}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("Notification"in window&&"granted"===Notification.permission?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"Notification"in window?"granted"===Notification.permission?"✓ Enabled":"Click Start to enable":"Not supported"})]})]})]})}var P=a(9022),E=a(1380),I=a(4020),B=a(9074);let M=["#4F46E5","#059669","#DC2626","#D97706","#7C3AED","#0891B2","#BE185D","#65A30D"];function R(e){let{projects:t,darkMode:a,onCreateProject:n,onUpdateProject:i,onDeleteProject:l,onSelectProject:c,selectedProjectId:d}=e,[g,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)({name:"",description:"",color:M[0],status:"active",dueDate:void 0}),[h,b]=(0,s.useState)(null),f=async()=>{u.name.trim()&&(await n({...u,name:u.name.trim(),estimatedPomodoros:0,completedPomodoros:0,color:u.color||M[0]}),x({name:"",description:"",color:M[0],status:"active",dueDate:void 0}),m(!1))},j=(e,t)=>{i(e.id,{status:t}),b(null)},w=e=>{switch(e){case"active":return(0,r.jsx)(y.A,{className:"w-4 h-4"});case"paused":return(0,r.jsx)(p.A,{className:"w-4 h-4"});case"completed":return(0,r.jsx)(o.A,{className:"w-4 h-4"});case"archived":return(0,r.jsx)(P.A,{className:"w-4 h-4"})}},N=e=>{switch(e){case"active":return"text-green-500";case"paused":return"text-yellow-500";case"completed":return"text-blue-500";case"archived":return"text-gray-500"}},S=e=>0===e.estimatedPomodoros?0:Math.min(e.completedPomodoros/e.estimatedPomodoros*100,100),C=e=>new Intl.DateTimeFormat("tr-TR",{day:"numeric",month:"short",year:"numeric"}).format(e);return(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 transition-colors duration-300 ".concat(a?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold ".concat(a?"text-white":"text-gray-800"),children:"Projeler"}),(0,r.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,r.jsx)(v.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Yeni Proje"})]})]}),g&&(0,r.jsxs)("div",{className:"mb-6 p-4 rounded-lg border ".concat(a?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 ".concat(a?"text-white":"text-gray-800"),children:"Yeni Proje Oluştur"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(a?"text-gray-300":"text-gray-700"),children:"Proje Adı *"}),(0,r.jsx)("input",{type:"text",value:u.name,onChange:e=>x({...u,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(a?"bg-gray-600 border-gray-500 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900"),placeholder:"Proje adını girin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(a?"text-gray-300":"text-gray-700"),children:"A\xe7ıklama"}),(0,r.jsx)("textarea",{value:u.description,onChange:e=>x({...u,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(a?"bg-gray-600 border-gray-500 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900"),placeholder:"Proje a\xe7ıklaması (opsiyonel)",rows:3})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(a?"text-gray-300":"text-gray-700"),children:"Renk"}),(0,r.jsx)("div",{className:"flex space-x-2",children:M.map(e=>(0,r.jsx)("button",{onClick:()=>x({...u,color:e}),className:"w-8 h-8 rounded-full border-2 ".concat(u.color===e?"border-gray-800":"border-transparent"),style:{backgroundColor:e}},e))})]})}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:f,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Oluştur"}),(0,r.jsx)("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 border rounded-lg transition-colors ".concat(a?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"İptal"})]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,r.jsxs)("div",{className:"p-4 rounded-lg border cursor-pointer transition-all duration-200 ".concat(d===e.id?"ring-2 ring-indigo-500 border-indigo-500":a?"border-gray-600 hover:border-gray-500":"border-gray-200 hover:border-gray-300"," ").concat(a?"bg-gray-700":"bg-white"),onClick:()=>c(e),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsx)(E.A,{className:"w-5 h-5 ".concat(a?"text-gray-300":"text-gray-600")})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),b(h===e.id?null:e.id)},className:"p-1 rounded hover:bg-opacity-10 hover:bg-gray-500 ".concat(a?"text-gray-400":"text-gray-500"),children:(0,r.jsx)(I.A,{className:"w-4 h-4"})}),h===e.id&&(0,r.jsxs)("div",{className:"absolute right-0 top-8 w-48 py-2 rounded-lg shadow-lg border z-10 ".concat(a?"bg-gray-800 border-gray-600":"bg-white border-gray-200"),children:[(0,r.jsxs)("button",{onClick:t=>{t.stopPropagation(),j(e,"active")},className:"w-full px-4 py-2 text-left text-sm hover:bg-opacity-10 hover:bg-gray-500 ".concat(a?"text-gray-300":"text-gray-700"),children:[(0,r.jsx)(y.A,{className:"w-4 h-4 inline mr-2"}),"Aktif"]}),(0,r.jsxs)("button",{onClick:t=>{t.stopPropagation(),j(e,"paused")},className:"w-full px-4 py-2 text-left text-sm hover:bg-opacity-10 hover:bg-gray-500 ".concat(a?"text-gray-300":"text-gray-700"),children:[(0,r.jsx)(p.A,{className:"w-4 h-4 inline mr-2"}),"Duraklat"]}),(0,r.jsxs)("button",{onClick:t=>{t.stopPropagation(),j(e,"completed")},className:"w-full px-4 py-2 text-left text-sm hover:bg-opacity-10 hover:bg-gray-500 ".concat(a?"text-gray-300":"text-gray-700"),children:[(0,r.jsx)(o.A,{className:"w-4 h-4 inline mr-2"}),"Tamamla"]}),(0,r.jsx)("hr",{className:"my-1 ".concat(a?"border-gray-600":"border-gray-200")}),(0,r.jsxs)("button",{onClick:t=>{t.stopPropagation(),l(e.id),b(null)},className:"w-full px-4 py-2 text-left text-sm text-red-500 hover:bg-red-50 hover:bg-opacity-10",children:[(0,r.jsx)(k.A,{className:"w-4 h-4 inline mr-2"}),"Sil"]})]})]})]}),(0,r.jsx)("h3",{className:"font-semibold text-lg mb-2 ".concat(a?"text-white":"text-gray-800"),children:e.name}),e.description&&(0,r.jsx)("p",{className:"text-sm mb-3 line-clamp-2 ".concat(a?"text-gray-400":"text-gray-600"),children:e.description}),(0,r.jsx)("div",{className:"flex items-center space-x-2 mb-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-1 ".concat(N(e.status)),children:[w(e.status),(0,r.jsx)("span",{className:"text-sm font-medium capitalize",children:e.status})]})}),e.estimatedPomodoros>0&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:a?"text-gray-400":"text-gray-600",children:"İlerleme"}),(0,r.jsxs)("span",{className:a?"text-gray-400":"text-gray-600",children:[e.completedPomodoros,"/",e.estimatedPomodoros]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 ".concat(a?"bg-gray-600":"bg-gray-200"),children:(0,r.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(S(e),"%")}})})]}),e.dueDate&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,r.jsx)(B.A,{className:"w-4 h-4 ".concat(a?"text-gray-400":"text-gray-500")}),(0,r.jsx)("span",{className:a?"text-gray-400":"text-gray-600",children:C(e.dueDate)})]})]},e.id))}),0===t.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(E.A,{className:"w-16 h-16 mx-auto mb-4 ".concat(a?"text-gray-600":"text-gray-400")}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2 ".concat(a?"text-gray-400":"text-gray-600"),children:"Hen\xfcz proje yok"}),(0,r.jsx)("p",{className:"text-sm ".concat("text-gray-500"),children:'İlk projenizi oluşturmak i\xe7in "Yeni Proje" butonuna tıklayın'})]})]})}var F=a(3453),O=a(9428);let U=e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))},L=(e,t)=>({low:t?"text-green-400":"text-green-600",medium:t?"text-yellow-400":"text-yellow-600",high:t?"text-orange-400":"text-orange-600",urgent:t?"text-red-400":"text-red-600"})[e],G=e=>({work:"\uD83D\uDCBC",personal:"\uD83C\uDFE0",learning:"\uD83D\uDCDA",creative:"\uD83C\uDFA8",health:"\uD83D\uDCAA"})[e]||"\uD83D\uDCDD",q=()=>{let e={physical:["\uD83D\uDEB6‍♀️ Take a 2-minute walk around your space","\uD83E\uDD38‍♂️ Do 10 jumping jacks or push-ups","\uD83E\uDDD8‍♀️ Try some neck and shoulder rolls","\uD83D\uDC40 Look out the window at something far away","\uD83E\uDD32 Stretch your wrists and fingers","\uD83E\uDDCD‍♂️ Stand up and do some gentle twists","\uD83E\uDDB5 Do some calf raises or leg stretches","\uD83D\uDCAA Stretch your arms above your head"],mental:["\uD83E\uDDE0 Practice 2 minutes of deep breathing","\uD83C\uDFB5 Listen to your favorite song","\uD83D\uDCF1 Text someone you care about","\uD83D\uDCDD Jot down 3 things you're grateful for","\uD83C\uDF1F Visualize your next accomplishment","\uD83E\uDDD8‍♂️ Try a quick meditation","\uD83D\uDCDA Read a few pages of something inspiring","\uD83C\uDFA8 Doodle or sketch for a few minutes"],refresh:["\uD83D\uDCA7 Drink a full glass of water","☕ Make your favorite beverage","\uD83C\uDF4E Grab a healthy snack","\uD83C\uDF31 Check on your plants","\uD83E\uDE9F Open a window for fresh air","\uD83D\uDCA6 Splash cool water on your face","\uD83E\uDDF4 Apply some hand lotion","\uD83C\uDF43 Step outside for fresh air"],social:["\uD83D\uDC4B Say hi to a colleague or roommate","\uD83D\uDCDE Make a quick call to family","\uD83D\uDCAC Send an encouraging message to a friend","\uD83E\uDD1D Give someone a genuine compliment","\uD83D\uDCE7 Reply to a personal message","\uD83D\uDC65 Check in with your team","\uD83C\uDF89 Share a small win with someone","❤️ Express appreciation to someone"]},t=Object.keys(e),a=e[t[Math.floor(Math.random()*t.length)]];return a[Math.floor(Math.random()*a.length)]||"Take a break and relax"};function z(e){let{project:t,tasks:a,darkMode:n,categories:i,priorities:l,onCreateTask:c,onUpdateTask:d,onDeleteTask:g,onStartTask:m}=e,[u,x]=(0,s.useState)(!1),[h,y]=(0,s.useState)({text:"",description:"",category:"work",priority:"medium",estimatedPomodoros:1,dueDate:void 0}),[p,b]=(0,s.useState)(null),f=async()=>{h.text.trim()&&(await c({text:h.text.trim(),description:h.description,projectId:t.id,category:h.category,priority:h.priority,completed:!1,estimatedPomodoros:h.estimatedPomodoros,completedPomodoros:0,dueDate:h.dueDate}),y({text:"",description:"",category:"work",priority:"medium",estimatedPomodoros:1,dueDate:void 0}),x(!1))},j=e=>{d(e.id,{completed:!e.completed,completedPomodoros:e.completed?0:e.estimatedPomodoros})},w=a.filter(e=>e.completed),N=a.filter(e=>!e.completed),k=a.reduce((e,t)=>e+t.estimatedPomodoros,0),S=a.reduce((e,t)=>e+t.completedPomodoros,0);return(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 transition-colors duration-300 ".concat(n?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t.color}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold ".concat(n?"text-white":"text-gray-800"),children:t.name}),t.description&&(0,r.jsx)("p",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"),children:t.description})]})]}),(0,r.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,r.jsx)(v.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"G\xf6rev Ekle"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"p-4 rounded-lg ".concat(n?"bg-gray-700":"bg-gray-50"),children:[(0,r.jsx)("div",{className:"text-2xl font-bold ".concat(n?"text-white":"text-gray-800"),children:a.length}),(0,r.jsx)("div",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"),children:"Toplam G\xf6rev"})]}),(0,r.jsxs)("div",{className:"p-4 rounded-lg ".concat(n?"bg-gray-700":"bg-gray-50"),children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-500",children:w.length}),(0,r.jsx)("div",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"),children:"Tamamlanan"})]}),(0,r.jsxs)("div",{className:"p-4 rounded-lg ".concat(n?"bg-gray-700":"bg-gray-50"),children:[(0,r.jsx)("div",{className:"text-2xl font-bold ".concat(n?"text-white":"text-gray-800"),children:k}),(0,r.jsx)("div",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"),children:"Tahmini Pomodoro"})]}),(0,r.jsxs)("div",{className:"p-4 rounded-lg ".concat(n?"bg-gray-700":"bg-gray-50"),children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-indigo-500",children:S}),(0,r.jsx)("div",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"),children:"Tamamlanan Pomodoro"})]})]}),k>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,r.jsx)("span",{className:n?"text-gray-400":"text-gray-600",children:"Proje İlerlemesi"}),(0,r.jsxs)("span",{className:n?"text-gray-400":"text-gray-600",children:[Math.round(S/k*100),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 ".concat(n?"bg-gray-600":"bg-gray-200"),children:(0,r.jsx)("div",{className:"bg-indigo-600 h-3 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(S/k*100,100),"%")}})})]}),u&&(0,r.jsxs)("div",{className:"mb-6 p-4 rounded-lg border ".concat(n?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 ".concat(n?"text-white":"text-gray-800"),children:"Yeni G\xf6rev Ekle"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(n?"text-gray-300":"text-gray-700"),children:"G\xf6rev Adı *"}),(0,r.jsx)("input",{type:"text",value:h.text,onChange:e=>y({...h,text:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(n?"bg-gray-600 border-gray-500 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900"),placeholder:"G\xf6rev adını girin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(n?"text-gray-300":"text-gray-700"),children:"A\xe7ıklama"}),(0,r.jsx)("textarea",{value:h.description,onChange:e=>y({...h,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(n?"bg-gray-600 border-gray-500 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900"),placeholder:"G\xf6rev a\xe7ıklaması (opsiyonel)",rows:2})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-1 ".concat(n?"text-gray-400":"text-gray-600"),children:"Kategori"}),(0,r.jsx)("select",{value:h.category,onChange:e=>y({...h,category:e.target.value}),className:"w-full px-2 py-1.5 border rounded-md focus:ring-1 focus:ring-indigo-500 focus:border-transparent text-sm ".concat(n?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300 text-gray-900"),children:i.map(e=>(0,r.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-1 ".concat(n?"text-gray-400":"text-gray-600"),children:"\xd6ncelik"}),(0,r.jsx)("select",{value:h.priority,onChange:e=>y({...h,priority:e.target.value}),className:"w-full px-2 py-1.5 border rounded-md focus:ring-1 focus:ring-indigo-500 focus:border-transparent text-sm ".concat(n?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300 text-gray-900"),children:l.map(e=>(0,r.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium mb-1 ".concat(n?"text-gray-400":"text-gray-600"),children:"Tahmini Pomodoro"}),(0,r.jsx)("input",{type:"number",min:"1",value:h.estimatedPomodoros,onChange:e=>y({...h,estimatedPomodoros:parseInt(e.target.value)||1}),className:"w-full px-2 py-1.5 border rounded-md focus:ring-1 focus:ring-indigo-500 focus:border-transparent text-sm ".concat(n?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:f,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Ekle"}),(0,r.jsx)("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 border rounded-lg transition-colors ".concat(n?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"İptal"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[N.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3 ".concat(n?"text-white":"text-gray-800"),children:["Bekleyen G\xf6revler (",N.length,")"]}),(0,r.jsx)("div",{className:"space-y-2",children:N.map(e=>(0,r.jsx)(Y,{task:e,darkMode:n,onToggleComplete:()=>j(e),onStart:()=>m(e),onDelete:g,activeDropdown:p,setActiveDropdown:b},e.id))})]}),w.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3 ".concat(n?"text-white":"text-gray-800"),children:["Tamamlanan G\xf6revler (",w.length,")"]}),(0,r.jsx)("div",{className:"space-y-2",children:w.map(e=>(0,r.jsx)(Y,{task:e,darkMode:n,onToggleComplete:()=>j(e),onStart:()=>m(e),onDelete:g,activeDropdown:p,setActiveDropdown:b},e.id))})]}),0===a.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(o.A,{className:"w-16 h-16 mx-auto mb-4 ".concat(n?"text-gray-600":"text-gray-400")}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2 ".concat(n?"text-gray-400":"text-gray-600"),children:"Hen\xfcz g\xf6rev yok"}),(0,r.jsx)("p",{className:"text-sm ".concat("text-gray-500"),children:'İlk g\xf6revinizi eklemek i\xe7in "G\xf6rev Ekle" butonuna tıklayın'})]})]})]})}function Y(e){let t,{task:a,darkMode:s,onToggleComplete:o,onStart:n,onDelete:i,activeDropdown:l,setActiveDropdown:c}=e;return(0,r.jsx)("div",{className:"p-4 rounded-lg border transition-all duration-200 ".concat(a.completed?s?"bg-gray-700 border-gray-600 opacity-75":"bg-gray-50 border-gray-200 opacity-75":s?"bg-gray-700 border-gray-600":"bg-white border-gray-200"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("button",{onClick:o,className:"mt-0.5 ".concat(a.completed?"text-green-500":s?"text-gray-400":"text-gray-500"),children:a.completed?(0,r.jsx)(F.A,{className:"w-5 h-5"}):(0,r.jsx)(O.A,{className:"w-5 h-5"})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-medium ".concat(a.completed?"line-through text-gray-500":s?"text-white":"text-gray-800"),children:a.text}),a.description&&(0,r.jsx)("p",{className:"text-sm mt-1 ".concat(a.completed?"text-gray-500":s?"text-gray-400":"text-gray-600"),children:a.description}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[G(a.category),(0,r.jsx)("span",{className:"text-xs ".concat(s?"text-gray-400":"text-gray-500"),children:a.category})]}),(0,r.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat(L(a.priority,s)),children:a.priority}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(N.A,{className:"w-3 h-3 ".concat(s?"text-gray-400":"text-gray-500")}),(0,r.jsxs)("span",{className:"text-xs ".concat(s?"text-gray-400":"text-gray-500"),children:[a.completedPomodoros,"/",a.estimatedPomodoros," \uD83C\uDF45"]})]}),a.dueDate&&(0,r.jsxs)("div",{className:"flex items-center space-x-1 ".concat(new Date(a.dueDate)<new Date&&!a.completed?"text-red-500":s?"text-gray-400":"text-gray-500"),children:[(0,r.jsx)(B.A,{className:"w-3 h-3"}),(0,r.jsx)("span",{className:"text-xs",children:(t=a.dueDate,new Intl.DateTimeFormat("tr-TR",{day:"numeric",month:"short"}).format(t))})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[!a.completed&&(0,r.jsx)("button",{onClick:n,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 transition-colors",children:"Başla"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>c(l===a.id?null:a.id),className:"p-1 rounded hover:bg-opacity-10 hover:bg-gray-500 ".concat(s?"text-gray-400":"text-gray-500"),children:(0,r.jsx)(I.A,{className:"w-4 h-4"})}),l===a.id&&(0,r.jsx)("div",{className:"absolute right-0 top-8 w-32 py-2 rounded-lg shadow-lg border z-10 ".concat(s?"bg-gray-800 border-gray-600":"bg-white border-gray-200"),children:(0,r.jsxs)("button",{onClick:()=>{i(a.id),c(null)},className:"w-full px-4 py-2 text-left text-sm text-red-500 hover:bg-red-50 hover:bg-opacity-10",children:[(0,r.jsx)(k.A,{className:"w-4 h-4 inline mr-2"}),"Sil"]})})]})]})]})})]})})}var J=a(8883),Q=a(2919),K=a(8749),X=a(2657),H=a(306),V=a(2318),W=a(133),Z=a(283);function $(e){let{darkMode:t}=e,{signIn:a,signUp:o,resetPassword:n}=(0,Z.A)(),[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[g,m]=(0,s.useState)("signin"),[u,x]=(0,s.useState)({email:"",password:"",confirmPassword:""}),[h,y]=(0,s.useState)(null),[p,b]=(0,s.useState)(null),f=async e=>{e.preventDefault(),l(!0),y(null),b(null);try{if("reset"===g){let{error:e}=await n(u.email);e?y(e.message):b("Check your email for the password reset link")}else if("signup"===g){if(u.password!==u.confirmPassword)return void y("Passwords do not match");let{error:e}=await o(u.email,u.password);e?y(e.message):b("Check your email to confirm your account")}else{let{error:e}=await a(u.email,u.password);e&&(e.message.includes("Invalid login credentials")||e.message.includes("Email not confirmed")||e.message.includes("User not found")?y("Invalid email or password"):y("Authentication failed. Please try again."))}}catch(e){console.error("Authentication error:",e),y("An unexpected error occurred")}finally{l(!1)}},j=e=>{x({...u,[e.target.name]:e.target.value})};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 py-12",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mb-6 ".concat(t?"bg-indigo-600":"bg-indigo-100"),children:(0,r.jsx)("div",{className:"text-2xl ".concat(t?"text-white":"text-indigo-600"),children:"\uD83C\uDFAF"})}),(0,r.jsx)("h2",{className:"text-3xl font-bold ".concat(t?"text-white":"text-gray-900"),children:"Ultimate Focus"}),(0,r.jsxs)("p",{className:"mt-2 text-sm ".concat(t?"text-gray-400":"text-gray-600"),children:["signin"===g&&"Sign in to your account","signup"===g&&"Create your account","reset"===g&&"Reset your password"]})]}),(0,r.jsxs)("div",{className:"rounded-2xl shadow-xl p-8 ".concat(t?"bg-gray-800 border border-gray-700":"bg-white"),children:[h&&(0,r.jsx)("div",{className:"mb-4 p-4 rounded-lg bg-red-50 border border-red-200",children:(0,r.jsx)("p",{className:"text-sm text-red-600",children:h})}),p&&(0,r.jsx)("div",{className:"mb-4 p-4 rounded-lg bg-green-50 border border-green-200",children:(0,r.jsx)("p",{className:"text-sm text-green-600",children:p})}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(t?"text-gray-300":"text-gray-700"),children:"Email address"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(J.A,{className:"h-5 w-5 ".concat("text-gray-400")})}),(0,r.jsx)("input",{name:"email",type:"email",required:!0,value:u.email,onChange:j,className:"block w-full pl-10 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all ".concat(t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter your email"})]})]}),"reset"!==g&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(t?"text-gray-300":"text-gray-700"),children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(Q.A,{className:"h-5 w-5 ".concat("text-gray-400")})}),(0,r.jsx)("input",{name:"password",type:c?"text":"password",required:!0,value:u.password,onChange:j,className:"block w-full pl-10 pr-10 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all ".concat(t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter your password"}),(0,r.jsx)("button",{type:"button",onClick:()=>d(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c?(0,r.jsx)(K.A,{className:"h-5 w-5 ".concat("text-gray-400")}):(0,r.jsx)(X.A,{className:"h-5 w-5 ".concat("text-gray-400")})})]})]}),"signup"===g&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(t?"text-gray-300":"text-gray-700"),children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(Q.A,{className:"h-5 w-5 ".concat("text-gray-400")})}),(0,r.jsx)("input",{name:"confirmPassword",type:c?"text":"password",required:!0,value:u.confirmPassword,onChange:j,className:"block w-full pl-10 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all ".concat(t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Confirm your password"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:i?(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,r.jsxs)(r.Fragment,{children:["signin"===g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.A,{className:"w-4 h-4 mr-2"})," Sign In"]}),"signup"===g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.A,{className:"w-4 h-4 mr-2"})," Sign Up"]}),"reset"===g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W.A,{className:"w-4 h-4 mr-2"})," Reset Password"]})]})})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("div",{className:"text-sm text-center ".concat(t?"text-gray-400":"text-gray-600"),children:["signin"===g&&(0,r.jsxs)(r.Fragment,{children:["Don't have an account?"," ",(0,r.jsx)("button",{onClick:()=>m("signup"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign up"}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:()=>m("reset"),className:"font-medium text-indigo-600 hover:text-indigo-500 mt-2 inline-block",children:"Forgot your password?"})]}),"signup"===g&&(0,r.jsxs)(r.Fragment,{children:["Already have an account?"," ",(0,r.jsx)("button",{onClick:()=>m("signin"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]}),"reset"===g&&(0,r.jsxs)(r.Fragment,{children:["Remember your password?"," ",(0,r.jsx)("button",{onClick:()=>m("signin"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})]})})]})]})})}var ee=a(3904),et=a(4416);function ea(e){let{show:t,onClose:a,timeLeft:o,isRunning:n,isPaused:i,currentTask:l,darkMode:c,formatTime:d}=e,[g,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{x(!0)},[]);let h=(0,s.useCallback)(()=>{m(!1),setTimeout(a,300)},[a]);return((0,s.useEffect)(()=>{if(t&&u){m(!0);let e=setTimeout(()=>{h()},5e3);return()=>clearTimeout(e)}},[t,u,h]),t&&u)?(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 transition-all duration-300 ".concat(g?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,r.jsx)("div",{className:"rounded-xl shadow-lg p-4 max-w-sm border-l-4 border-indigo-500 ".concat(c?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-200 text-gray-900"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(ee.A,{className:"w-5 h-5 text-indigo-500"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-1",children:"Timer Restored"}),(0,r.jsx)("p",{className:"text-xs mb-2 ".concat(c?"text-gray-300":"text-gray-600"),children:"Your previous session was restored"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:c?"text-gray-400":"text-gray-500",children:"Time:"}),(0,r.jsx)("span",{className:"font-mono font-medium",children:d(o)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:c?"text-gray-400":"text-gray-500",children:"Status:"}),(0,r.jsx)("span",{className:"font-medium ".concat(n?"text-green-500":i?"text-yellow-500":"text-gray-500"),children:n?"Running":i?"Paused":"Stopped"})]}),l&&(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:c?"text-gray-400":"text-gray-500",children:"Task:"}),(0,r.jsx)("span",{className:"font-medium max-w-32 truncate",children:l})]})]})]}),(0,r.jsx)("button",{onClick:h,className:"flex-shrink-0 p-1 rounded-md transition-colors ".concat(c?"hover:bg-gray-700 text-gray-400 hover:text-gray-300":"hover:bg-gray-100 text-gray-400 hover:text-gray-500"),children:(0,r.jsx)(et.A,{className:"w-4 h-4"})})]})})}):null}let er="ultimate-focus-timer-state";var es=a(7565);function eo(){let[e,t]=(0,s.useState)(!1),{user:a,loading:o}=(0,Z.A)();return((0,s.useEffect)(()=>{t(!0)},[]),!e||o)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Loading..."})]})}):a?(0,r.jsx)(en,{}):(0,r.jsx)($,{darkMode:!0})}function en(){let{signOut:e}=(0,Z.A)(),{activeTab:t,setActiveTab:a,settings:x,updateSetting:h,timer:y,taskQueue:p,analytics:b,exportData:f,importData:j,projects:v,selectedProject:N,setSelectedProject:k,projectTasks:C,createProject:A,updateProject:_,deleteProject:P,createTask:E,updateTask:I,deleteTask:B,loading:M}=function(){let{}=(0,Z.A)(),[e,t]=(0,s.useState)("focus"),{settings:a,updateSettings:r,loading:o}=function(){let{user:e}=(0,Z.A)(),[t,a]=(0,s.useState)(null),[r,o]=(0,s.useState)(!0),n=(0,s.useCallback)(async()=>{if(e)try{let{data:t,error:r}=await es.N.from("users").select("*").eq("id",e.id).single();r&&"PGRST116"!==r.code&&console.error("Error fetching user settings:",r),t?a({focusDuration:t.focus_duration,shortBreakDuration:t.short_break_duration,longBreakDuration:t.long_break_duration,longBreakInterval:t.long_break_interval,autoStartBreaks:t.auto_start_breaks,autoStartSessions:t.auto_start_sessions,soundEnabled:t.sound_enabled,darkMode:"dark"===t.theme,ambientSound:t.ambient_sound||"none",dailyGoal:t.daily_goal}):a({focusDuration:25,shortBreakDuration:5,longBreakDuration:15,longBreakInterval:4,autoStartBreaks:!1,autoStartSessions:!1,soundEnabled:!0,darkMode:!0,ambientSound:"none",dailyGoal:8})}catch(e){console.error("Error fetching user settings:",e),a({focusDuration:25,shortBreakDuration:5,longBreakDuration:15,longBreakInterval:4,autoStartBreaks:!1,autoStartSessions:!1,soundEnabled:!0,darkMode:!0,ambientSound:"none",dailyGoal:8,notificationsEnabled:!0,theme:"dark"})}finally{o(!1)}},[e]);return(0,s.useEffect)(()=>{if(!e){a(null),o(!1);return}n()},[e,n]),{settings:t,updateSettings:async t=>{if(e)try{let{error:u}=await es.N.from("users").update({focus_duration:t.focusDuration,short_break_duration:t.shortBreakDuration,long_break_duration:t.longBreakDuration,long_break_interval:t.longBreakInterval,auto_start_breaks:t.autoStartBreaks,auto_start_sessions:t.autoStartSessions,sound_enabled:t.soundEnabled,theme:t.darkMode?"dark":"light",ambient_sound:t.ambientSound,daily_goal:t.dailyGoal,updated_at:new Date().toISOString()}).eq("id",e.id);if(u){var r,s,o,n,i,l,c,d,g,m;console.log("Update failed, trying to create user profile...");let{error:a}=await es.N.from("users").insert([{id:e.id,email:e.email,focus_duration:null!=(r=t.focusDuration)?r:25,short_break_duration:null!=(s=t.shortBreakDuration)?s:5,long_break_duration:null!=(o=t.longBreakDuration)?o:15,long_break_interval:null!=(n=t.longBreakInterval)?n:4,auto_start_breaks:null!=(i=t.autoStartBreaks)&&i,auto_start_sessions:null!=(l=t.autoStartSessions)&&l,sound_enabled:null==(c=t.soundEnabled)||c,notifications_enabled:null==(d=t.notificationsEnabled)||d,theme:null!=(g=t.theme)?g:"dark",daily_goal:null!=(m=t.dailyGoal)?m:8}]);if(a)return void console.error("Error creating user profile:",a)}a(e=>e?{...e,...t}:t)}catch(e){console.error("Error updating settings:",e)}},loading:r}}(),{sessions:n,addSession:i,loading:l}=function(){let{user:e}=(0,Z.A)(),[t,a]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0),n=(0,s.useCallback)(async()=>{if(e)try{let{data:t,error:r}=await es.N.from("sessions").select("*").eq("user_id",e.id).order("completed_at",{ascending:!1});if(r)throw r;if(t){let e=t.map(e=>({id:parseInt(e.id),task:e.task,category:e.category,duration:e.duration,completedAt:new Date(e.completed_at),date:e.date}));a(e)}}catch(e){console.error("Error fetching sessions:",e)}finally{o(!1)}},[e]);return(0,s.useEffect)(()=>{if(!e){a([]),o(!1);return}n()},[e,n]),{sessions:t,addSession:async t=>{if(e)try{let{data:r,error:s}=await es.N.from("sessions").insert([{user_id:e.id,task:t.task,category:t.category,duration:t.duration,completed_at:t.completedAt.toISOString(),date:t.date}]).select().single();if(s)throw s;if(r){let e={id:parseInt(r.id),task:r.task,category:r.category,duration:r.duration,completedAt:new Date(r.completed_at),date:r.date};a(t=>[e,...t])}}catch(e){console.error("Error adding session:",e)}},loading:r}}(),{tasks:c,addTask:d,removeTask:g,updateTask:m,loading:u}=function(){let{user:e}=(0,Z.A)(),[t,a]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0),n=(0,s.useCallback)(async()=>{if(e)try{let{data:t,error:r}=await es.N.from("tasks").select("*").eq("user_id",e.id).eq("completed",!1).order("created_at",{ascending:!1});if(r)throw r;if(t){let e=t.map(e=>({id:parseInt(e.id),text:e.text,description:e.description,projectId:e.project_id,category:e.category,priority:e.priority,completed:e.completed,estimatedPomodoros:e.estimated_pomodoros,completedPomodoros:e.completed_pomodoros,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),dueDate:e.due_date?new Date(e.due_date):void 0}));a(e)}}catch(e){console.error("Error fetching tasks:",e)}finally{o(!1)}},[e]);(0,s.useEffect)(()=>{if(!e){a([]),o(!1);return}n()},[e,n]);let i=async(r,s)=>{if(e)try{var o;let n={};void 0!==s.text&&(n.text=s.text),void 0!==s.description&&(n.description=s.description),void 0!==s.projectId&&(n.project_id=s.projectId),void 0!==s.category&&(n.category=s.category),void 0!==s.priority&&(n.priority=s.priority),void 0!==s.completed&&(n.completed=s.completed),void 0!==s.estimatedPomodoros&&(n.estimated_pomodoros=s.estimatedPomodoros),void 0!==s.completedPomodoros&&(n.completed_pomodoros=s.completedPomodoros),void 0!==s.dueDate&&(n.due_date=null==(o=s.dueDate)?void 0:o.toISOString()),n.updated_at=new Date().toISOString();let{error:i}=await es.N.from("tasks").update(n).eq("id",r.toString()).eq("user_id",e.id);if(i)throw i;let l={...t.find(e=>e.id===r),...s,updatedAt:new Date};return a(e=>e.map(e=>e.id===r?l:e)),l}catch(e){console.error("Error updating task:",e);return}};return{tasks:t,addTask:async t=>{if(e)try{var r;let{data:s,error:o}=await es.N.from("tasks").insert([{user_id:e.id,text:t.text,description:t.description,project_id:t.projectId,category:t.category,priority:t.priority,completed:t.completed,estimated_pomodoros:t.estimatedPomodoros,completed_pomodoros:t.completedPomodoros,due_date:null==(r=t.dueDate)?void 0:r.toISOString()}]).select().single();if(o)throw o;if(s){let e={id:parseInt(s.id),text:s.text,description:s.description,projectId:s.project_id,category:s.category,priority:s.priority,completed:s.completed,estimatedPomodoros:s.estimated_pomodoros,completedPomodoros:s.completed_pomodoros,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),dueDate:s.due_date?new Date(s.due_date):void 0};return a(t=>[e,...t]),e}}catch(e){console.error("Error adding task:",e)}},removeTask:async t=>{if(e)try{let{error:r}=await es.N.from("tasks").delete().eq("id",t.toString()).eq("user_id",e.id);if(r)throw r;a(e=>e.filter(e=>e.id!==t))}catch(e){console.error("Error removing task:",e)}},updateTask:i,loading:r}}(),{projects:x,addProject:h,updateProject:y,removeProject:p,loading:b}=function(){let{user:e}=(0,Z.A)(),[t,a]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0),n=(0,s.useCallback)(async()=>{if(e)try{let{data:t,error:r}=await es.N.from("projects").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;if(t){let e=t.map(e=>({id:parseInt(e.id),name:e.name,description:e.description,color:e.color,status:e.status,estimatedPomodoros:e.estimated_pomodoros,completedPomodoros:e.completed_pomodoros,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),dueDate:e.due_date?new Date(e.due_date):void 0}));a(e)}}catch(e){console.error("Error fetching projects:",e)}finally{o(!1)}},[e]);(0,s.useEffect)(()=>{if(!e){a([]),o(!1);return}n()},[e,n]);let i=async(r,s)=>{if(e)try{var o;let n={};void 0!==s.name&&(n.name=s.name),void 0!==s.description&&(n.description=s.description),void 0!==s.color&&(n.color=s.color),void 0!==s.status&&(n.status=s.status),void 0!==s.estimatedPomodoros&&(n.estimated_pomodoros=s.estimatedPomodoros),void 0!==s.completedPomodoros&&(n.completed_pomodoros=s.completedPomodoros),void 0!==s.dueDate&&(n.due_date=null==(o=s.dueDate)?void 0:o.toISOString());let{error:i}=await es.N.from("projects").update(n).eq("id",r).eq("user_id",e.id);if(i)throw i;let l={...t.find(e=>e.id===r),...s};return a(e=>e.map(e=>e.id===r?l:e)),l}catch(e){console.error("Error updating project:",e);return}};return{projects:t,addProject:async t=>{if(e)try{var r;let{data:s,error:o}=await es.N.from("projects").insert({user_id:e.id,name:t.name,description:t.description,color:t.color,status:t.status,estimated_pomodoros:t.estimatedPomodoros,completed_pomodoros:t.completedPomodoros,due_date:null==(r=t.dueDate)?void 0:r.toISOString()}).select().single();if(o)throw o;if(s){let e={id:parseInt(s.id),name:s.name,description:s.description,color:s.color,status:s.status,estimatedPomodoros:s.estimated_pomodoros,completedPomodoros:s.completed_pomodoros,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),dueDate:s.due_date?new Date(s.due_date):void 0};return a(t=>[e,...t]),e}}catch(e){console.error("Error adding project:",e)}},updateProject:i,removeProject:async t=>{if(e)try{let{error:r}=await es.N.from("projects").delete().eq("id",t).eq("user_id",e.id);if(r)throw r;a(e=>e.filter(e=>e.id!==t))}catch(e){console.error("Error removing project:",e)}},loading:r}}(),[f,j]=(0,s.useState)(null),{showNotification:w,playNotificationSound:v}=function(){let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]),{showNotification:(0,s.useCallback)((e,t)=>{"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t})},[]),playNotificationSound:(0,s.useCallback)(()=>{e.current||(e.current=new(window.AudioContext||window.webkitAudioContext));let t=e.current.createOscillator(),a=e.current.createGain();t.connect(a),a.connect(e.current.destination),t.frequency.value=800,t.type="sine",a.gain.setValueAtTime(.3,e.current.currentTime),a.gain.exponentialRampToValueAtTime(.01,e.current.currentTime+.5),t.start(e.current.currentTime),t.stop(e.current.currentTime+.5)},[])}}(),N=function(e){let{settings:t,onSessionComplete:a,showNotification:r,playNotificationSound:o}=e,{saveTimerState:n,loadTimerState:i,clearTimerState:l,shouldRestoreTimer:c}=function(){let e=(0,s.useCallback)(e=>{let t={...e,lastSaveTime:Date.now()};try{localStorage.setItem(er,JSON.stringify(t))}catch(e){console.error("Failed to save timer state:",e)}},[]),t=(0,s.useCallback)(()=>{try{let e=localStorage.getItem(er);if(!e)return null;let t=JSON.parse(e),a=Date.now(),r=Math.floor((a-t.lastSaveTime)/1e3);if(t.isRunning&&!t.isPaused){let e=Math.max(0,t.timeLeft-r);return{...t,timeLeft:e,isRunning:e>0,isPaused:!1}}let{lastSaveTime:s,...o}=t;return o}catch(e){return console.error("Failed to load timer state:",e),null}},[]);return{saveTimerState:e,loadTimerState:t,clearTimerState:(0,s.useCallback)(()=>{try{localStorage.removeItem(er)}catch(e){console.error("Failed to clear timer state:",e)}},[]),shouldRestoreTimer:(0,s.useCallback)(()=>{try{let e=localStorage.getItem(er);if(!e)return!1;let t=JSON.parse(e);return(Date.now()-t.lastSaveTime)/1e3<86400}catch(e){return console.error("Failed to check timer restore condition:",e),!1}},[])}}(),{user:d}=(0,Z.A)(),[g,m]=(0,s.useState)(""),[u,x]=(0,s.useState)(60*t.focusDuration),[h,y]=(0,s.useState)(!1),[p,b]=(0,s.useState)(!1),[f,j]=(0,s.useState)(!1),[w,v]=(0,s.useState)(0),[N,k]=(0,s.useState)("work"),[S,C]=(0,s.useState)(60*t.focusDuration),[D,A]=(0,s.useState)(!1),[_,T]=(0,s.useState)(!1),P=(0,s.useRef)(null),E=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=(null==d?void 0:d.id)||null;E.current!==e&&null!==e&&(console.log("User logged in, clearing timer state"),l(),m(""),x(60*t.focusDuration),y(!1),b(!1),j(!1),v(0),k("work"),C(60*t.focusDuration),T(!1)),E.current=e},[null==d?void 0:d.id,l,t.focusDuration]),(0,s.useEffect)(()=>{if(!D){if(c()){let e=i();e&&(console.log("Restoring timer state:",e),T(!0),void 0!==e.currentTask&&m(e.currentTask),void 0!==e.timeLeft&&x(e.timeLeft),void 0!==e.isRunning&&y(e.isRunning),void 0!==e.isPaused&&b(e.isPaused),void 0!==e.isBreak&&j(e.isBreak),void 0!==e.sessionCount&&v(e.sessionCount),void 0!==e.taskCategory&&k(e.taskCategory),void 0!==e.initialTime&&C(e.initialTime),0===e.timeLeft&&(e.isRunning||e.isPaused)&&(x(0),y(!1),b(!1)))}A(!0)}},[D,c,i]);let I=(0,s.useCallback)(()=>{D&&n({currentTask:g,timeLeft:u,isRunning:h,isPaused:p,isBreak:f,sessionCount:w,taskCategory:N,initialTime:S})},[D,n,g,u,h,p,f,w,N,S]);(0,s.useEffect)(()=>{D&&I()},[D,I]);let B=(0,s.useCallback)(()=>{if(!g.trim()&&!f)return void alert("Please enter a task to focus on!");y(!0),b(!1)},[g,f]),M=(0,s.useCallback)(()=>{y(!1),b(!0)},[]),R=(0,s.useCallback)(()=>{y(!0),b(!1)},[]),F=(0,s.useCallback)(()=>{y(!1),b(!1),f?(x(60*t.focusDuration),C(60*t.focusDuration),j(!1)):x(S)},[f,t.focusDuration,S]),O=(0,s.useCallback)(()=>{y(!1),b(!1),j(!1);let e=60*t.focusDuration;x(e),C(e),l()},[t.focusDuration,l]),U=(0,s.useCallback)(()=>{if(y(!1),b(!1),f){j(!1);let e=60*t.focusDuration;x(e),C(e),r("Break time over! \uD83D\uDCAA","Ready to start your next focus session?"),t.autoStartSessions&&setTimeout(()=>y(!0),1e3)}else{a({id:Date.now(),task:g,category:N,duration:t.focusDuration,completedAt:new Date,date:new Date().toDateString()}),v(e=>e+1);let e=(w+1)%t.longBreakInterval==0,s=60*(e?t.longBreakDuration:t.shortBreakDuration);j(!0),x(s),C(s),r("Focus session complete! \uD83C\uDF89","Great job! Time for a ".concat(e?"long":"short"," break.")),t.autoStartBreaks&&setTimeout(()=>y(!0),1e3)}t.soundEnabled&&o()},[f,g,N,t,w,a,r,o]);return(0,s.useEffect)(()=>(h&&u>0?P.current=setInterval(()=>{x(e=>e-1)},1e3):0===u?U():P.current&&clearInterval(P.current),()=>{P.current&&clearInterval(P.current)}),[h,u,U]),(0,s.useEffect)(()=>{if(!h&&!p&&!f){let e=60*t.focusDuration;x(e),C(e)}},[t.focusDuration,h,p,f]),{currentTask:g,setCurrentTask:m,timeLeft:u,isRunning:h,isPaused:p,isBreak:f,sessionCount:w,taskCategory:N,setTaskCategory:k,startTimer:B,pauseTimer:M,resumeTimer:R,stopTimer:F,resetTimer:O,wasRestored:_,dismissRestoreNotification:()=>T(!1)}}({settings:a||{focusDuration:25,shortBreakDuration:5,longBreakDuration:15,longBreakInterval:4,autoStartBreaks:!1,autoStartSessions:!1,soundEnabled:!0,darkMode:!0,ambientSound:"none",dailyGoal:8,notificationsEnabled:!0,theme:"dark"},onSessionComplete:i,showNotification:w,playNotificationSound:v}),[k,S]=(0,s.useState)(""),[C,D]=(0,s.useState)("work"),[A,_]=(0,s.useState)("medium"),T=async()=>{k.trim()&&await d({text:k.trim(),description:"",projectId:void 0,category:C,priority:A,completed:!1,estimatedPomodoros:1,completedPomodoros:0,dueDate:void 0})&&S("")},P=n.filter(e=>e.date===new Date().toDateString()).length,E=n.reduce((e,t)=>e+t.duration,0),I=function(e){if(0===e.length)return 0;let t=[...new Set(e.map(e=>e.date))].sort().reverse(),a=0;for(let e=0;e<t.length;e++){let r=t[e],s=new Date;if(s.setDate(s.getDate()-e),r===s.toDateString())a++;else break}return a}(n);!function(e){let{isRunning:t,isPaused:a,activeTab:r,startTimer:o,pauseTimer:n,resumeTimer:i,stopTimer:l,resetTimer:c,setActiveTab:d}=e;(0,s.useEffect)(()=>{let e=e=>{let s=e.target;if(!s||"INPUT"!==s.tagName&&"TEXTAREA"!==s.tagName)switch(e.key){case" ":e.preventDefault(),t?n():a?i():o();break;case"t":case"T":e.preventDefault(),(t||a)&&l();break;case"r":case"R":e.preventDefault(),c();break;case"s":case"S":e.preventDefault(),d("settings"===r?"focus":"settings");break;case"a":case"A":e.preventDefault(),d("analytics");break;case"f":case"F":e.preventDefault(),d("focus")}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,a,r,o,n,i,l,c,d])}({isRunning:N.isRunning,isPaused:N.isPaused,activeTab:e,startTimer:N.startTimer,pauseTimer:N.pauseTimer,resumeTimer:N.resumeTimer,stopTimer:N.stopTimer,resetTimer:N.resetTimer,setActiveTab:t});let B=f?c.filter(e=>e.projectId===f.id):[],M=async e=>{await p(e),(null==f?void 0:f.id)===e&&(j(null),t("projects"))},R=async e=>{await g(e)};return{activeTab:e,setActiveTab:t,settings:a||{focusDuration:25,shortBreakDuration:5,longBreakDuration:15,longBreakInterval:4,autoStartBreaks:!1,autoStartSessions:!1,soundEnabled:!0,darkMode:!0,ambientSound:"none",dailyGoal:8,notificationsEnabled:!0,theme:"dark"},updateSetting:async(e,t)=>{await r({[e]:t})},timer:N,taskQueue:{newQueueTask:k,setNewQueueTask:S,queueTaskCategory:C,setQueueTaskCategory:D,queueTaskPriority:A,setQueueTaskPriority:_,handleAddToQueue:T,tasks:c,removeTask:g,handleMoveToCurrentTask:e=>{N.setCurrentTask(e.text),N.setTaskCategory(e.category),g(e.id)}},analytics:{completedSessions:n,todaySessions:P,currentStreak:I,totalFocusTime:E},exportData:()=>{let e=new Blob([JSON.stringify({settings:a,sessions:n,tasks:c,exportDate:new Date().toISOString()},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="ultimate-focus-backup-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)},importData:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(!a)return;let s=new FileReader;s.onload=async e=>{try{var t;let a=JSON.parse(null==(t=e.target)?void 0:t.result);a.settings&&await r(a.settings),console.log("Data imported successfully (settings only for now)")}catch(e){console.error("Error importing data:",e)}},s.readAsText(a)},projects:x,selectedProject:f,setSelectedProject:j,projectTasks:B,createProject:async e=>await h(e),updateProject:y,deleteProject:M,createTask:async e=>await d(e),updateTask:m,deleteTask:R,loading:o||l||u||b}}(),F=["work","personal","learning","creative","health"],O=["low","medium","high","urgent"],Y=[{id:"focus",label:"Focus",icon:o.A},{id:"projects",label:"Projects",icon:n.A},{id:"analytics",label:"Analytics",icon:i.A},{id:"settings",label:"Settings",icon:l.A}];return M?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center ".concat(x.darkMode?"bg-gradient-to-br from-gray-900 to-gray-800":"bg-gradient-to-br from-blue-50 to-indigo-100"),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:x.darkMode?"text-gray-400":"text-gray-600",children:"Loading your data..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen transition-colors duration-300 ".concat(x.darkMode?"bg-gradient-to-br from-gray-900 to-gray-800":"bg-gradient-to-br from-blue-50 to-indigo-100"," p-4"),children:[(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-center items-center mb-4",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold ".concat(x.darkMode?"text-white":"text-gray-800"," mr-4"),children:"Ultimate Focus"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>h("darkMode",!x.darkMode),className:"p-2 rounded-lg transition-colors ".concat(x.darkMode?"bg-gray-700 text-yellow-400 hover:bg-gray-600":"bg-white text-gray-600 hover:bg-gray-50"),children:x.darkMode?(0,r.jsx)(c.A,{className:"w-5 h-5"}):(0,r.jsx)(d.A,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:()=>h("soundEnabled",!x.soundEnabled),className:"p-2 rounded-lg transition-colors ".concat(x.darkMode?"bg-gray-700 text-gray-400 hover:bg-gray-600":"bg-white text-gray-600 hover:bg-gray-50"),children:x.soundEnabled?(0,r.jsx)(g.A,{className:"w-5 h-5"}):(0,r.jsx)(m.A,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:()=>e(),className:"p-2 rounded-lg transition-colors ".concat(x.darkMode?"bg-gray-700 text-red-400 hover:bg-gray-600":"bg-white text-red-600 hover:bg-gray-50"),title:"Sign Out",children:(0,r.jsx)(u.A,{className:"w-5 h-5"})})]})]}),(0,r.jsx)("p",{className:"".concat(x.darkMode?"text-gray-300":"text-gray-600"),children:"Your ultimate productivity companion with advanced focus tracking"})]}),(0,r.jsx)("div",{className:"flex justify-center mb-8",children:(0,r.jsx)("div",{className:"flex space-x-1 p-1 rounded-lg ".concat(x.darkMode?"bg-gray-800":"bg-white"," shadow-lg"),children:Y.map(e=>(0,r.jsxs)("button",{onClick:()=>a(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ".concat(t===e.id?"bg-indigo-600 text-white":x.darkMode?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"),children:[(0,r.jsx)(e.icon,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:e.label})]},e.id))})}),"focus"===t&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(w,{timeLeft:y.timeLeft,isRunning:y.isRunning,isPaused:y.isPaused,isBreak:y.isBreak,currentTask:y.currentTask,taskCategory:y.taskCategory,todaySessions:b.todaySessions,dailyGoal:x.dailyGoal,currentStreak:b.currentStreak,sessionCount:y.sessionCount,longBreakInterval:x.longBreakInterval,darkMode:x.darkMode,categories:F,projects:null==v?void 0:v.map(e=>({id:e.id,name:e.name,color:e.color})),selectedProjectId:null==N?void 0:N.id,onTaskChange:y.setCurrentTask,onCategoryChange:y.setTaskCategory,onProjectChange:k?e=>{k((null==v?void 0:v.find(t=>t.id===e))||null)}:void 0,onStart:y.startTimer,onPause:y.pauseTimer,onResume:y.resumeTimer,onStop:y.stopTimer,onReset:y.resetTimer,getRandomBreakSuggestion:q,getCategoryIcon:G,formatTime:U}),(0,r.jsx)(S,{taskQueue:p.tasks,newQueueTask:p.newQueueTask,taskCategory:p.queueTaskCategory,taskPriority:p.queueTaskPriority,darkMode:x.darkMode,categories:F,priorities:O,onNewTaskChange:p.setNewQueueTask,onCategoryChange:p.setQueueTaskCategory,onPriorityChange:p.setQueueTaskPriority,onAddToQueue:p.handleAddToQueue,onRemoveFromQueue:p.removeTask,onMoveToCurrentTask:p.handleMoveToCurrentTask,getCategoryIcon:G,getPriorityColor:e=>L(e,x.darkMode)})]}),"projects"===t&&(0,r.jsx)(R,{projects:v||[],darkMode:x.darkMode,onCreateProject:A,onUpdateProject:_,onDeleteProject:P,onSelectProject:e=>{k(e),a("project-tasks")},selectedProjectId:null==N?void 0:N.id}),"project-tasks"===t&&N&&(0,r.jsx)(z,{project:N,tasks:C,darkMode:x.darkMode,categories:F,priorities:O,onCreateTask:E,onUpdateTask:I,onDeleteTask:B,onStartTask:e=>{y.setCurrentTask(e.text),y.setTaskCategory(e.category),a("focus")}}),"analytics"===t&&(0,r.jsx)(D,{todaySessions:b.todaySessions,dailyGoal:x.dailyGoal,totalFocusTime:b.totalFocusTime,currentStreak:b.currentStreak,completedSessions:b.completedSessions,darkMode:x.darkMode,getCategoryIcon:G}),"settings"===t&&(0,r.jsx)(T,{settings:x,darkMode:x.darkMode,ambientSounds:["none","rain","coffee-shop","forest","ocean","white-noise"],onSettingChange:h,onExportData:f,onImportData:j,onClearAllData:()=>{}}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsxs)("div",{className:"rounded-xl shadow-lg p-6 transition-colors duration-300 ".concat(x.darkMode?"bg-gray-800 border border-gray-700":"bg-white"),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2 ".concat(x.darkMode?"text-white":"text-gray-800"),children:y.isBreak?"\uD83C\uDF31 Break Tips":"\uD83C\uDFAF Focus Tips"}),(0,r.jsx)("div",{className:"text-sm space-y-1 ".concat(x.darkMode?"text-gray-300":"text-gray-600"),children:y.isBreak?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"• Step away from your workspace"}),(0,r.jsx)("p",{children:"• Do some light physical activity"}),(0,r.jsx)("p",{children:"• Practice mindfulness or deep breathing"}),(0,r.jsx)("p",{children:"• Hydrate and nourish your body"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"• Start with your most important task"}),(0,r.jsx)("p",{children:"• Use the queue to capture distracting thoughts"}),(0,r.jsx)("p",{children:"• Minimize external interruptions"}),(0,r.jsx)("p",{children:"• Celebrate each completed session"})]})})]})})]}),(0,r.jsx)(ea,{show:y.wasRestored,onClose:y.dismissRestoreNotification,timeLeft:y.timeLeft,isRunning:y.isRunning,isPaused:y.isPaused,currentTask:y.currentTask,darkMode:x.darkMode,formatTime:U})]})}},7565:(e,t,a)=>{"use strict";a.d(t,{N:()=>l});var r=a(5647);let s={SUPABASE_SERVICE_ROLE_KEY:a(9509).env.SUPABASE_SERVICE_ROLE_KEY},o={NEXT_PUBLIC_SUPABASE_URL:"https://hyeupxvitjxlnimzjclo.supabase.co",NEXT_PUBLIC_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5ZXVweHZpdGp4bG5pbXpqY2xvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0OTk3MDcsImV4cCI6MjA2ODA3NTcwN30.KHiiKOFLvzoIHtDZVHPFplmysm89hG9vcZZT1xOwCWM",...s},n=o.NEXT_PUBLIC_SUPABASE_URL,i=o.NEXT_PUBLIC_SUPABASE_ANON_KEY,l=(0,r.UU)(n,i,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},9186:(e,t,a)=>{"use strict";a.d(t,{H4:()=>o,a$:()=>s});class r extends Error{constructor(e,t,a=500){super(e),this.code=t,this.statusCode=a,this.name="AppError"}}class s extends r{constructor(e){super(e,"DATABASE_ERROR",500),this.name="DatabaseError"}}function o(e){return e instanceof r?e:e instanceof Error?new r(e.message,"UNKNOWN_ERROR"):new r("An unknown error occurred","UNKNOWN_ERROR")}}},e=>{var t=t=>e(e.s=t);e.O(0,[800,938,441,684,358],()=>t(4529)),_N_E=e.O()}]);